# Архитектурные объекты слоя "Техническая архитектура"
Слой технической архитектуры представлен базовой метамоделью **SEAF-CORE** и может поставляться с расширениями.
## Состав технической архитектуры
Техническая архитектура строится на базе двух фундаментальных сущностей.

### Технические компоненты
Это простейшие сущности технической архитектуры из которых состоит технический сервис.
К техническим компонентам относятся такие объекты, как:
* Клиентское устройство (`seaf.ta.components.user_device`)
* Аппаратный сервер и Виртуальный сервер (`seaf.ta.components.server`)
* Аппаратная СХД (`seaf.ta.components.hw_storage`)
* Сетевое устройство (`seaf.ta.components.network`)
* K8s Deployment, StatefulSet, POD, Container, Image (описаны в компонентах Kubernetes)

Описание и структура компонентов находятся в файле `components.yaml`, а их визуализация — в папке `presentation/templates/components.md`.

### Технические сервисы
Это сущности, предоставляющие вычислительные сервисы для прикладного слоя. Только технический сервис может иметь связанность с прикладной архитектурой и требованиями.

К техническим сервисам относятся:
* Регион (`seaf.ta.services.dc_region`) - пример региона - Россия, Урал, Москва в зависимости от величины инфраструктуры компании
* Зона доступности (`seaf.ta.services.dc_az`) - часть региона включающая несколько ЦОД объёдинённых высокоскоростным сетевым подключением, но изолированны в питании и физическом расположении
* Центр обработки данных (`seaf.ta.services.dc`) - физическое местоположение в которых размещены вычислительные ресурсы
* Офис (`seaf.ta.services.office`)
* Кластер (`seaf.ta.services.cluster`) - используется для описания любых кластеров
* Кластер виртуализации (`seaf.ta.services.cluster_virtualization`)
* Кластер Kubernetes (`seaf.ta.services.k8s`) - описание платформы контейнерной оркестрации в т.ч. Kubernetes
* Сеть WAN/LAN (`seaf.ta.services.network`)
* Канал передачи данных (`seaf.ta.services.network_links`) - описание выделенных каналов связи
* Сервис мониторинга (`seaf.ta.services.monitoring`)
* Сервер резервного копирования (`seaf.ta.services.backup`)
* Программное обеспечение и лицензии (`seaf.ta.services.software`)
* Системы хранения данных (`seaf.ta.services.storage`)
* Вычислительный сервис (`seaf.ta.services.compute_service`)
* Окружения и стенды (`seaf.ta.services.environment`, `seaf.ta.services.stand`)

Описание сервисов — в файле `services.yaml`, визуализация — в `presentation/templates/services.md`.

## Структура каталогов технической архитектуры
    -*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-
    |- _metamodel_                      - Подключенные пакеты метамоделей
    |  |- seaf-core                     - Пакет seaf-core метамодели
    |  |  |- entities                   - Сущности метамодели
    |  |  |  |- ta                      - Описание метамодели технической архитектуры
    |  |  |  |  |- components.yaml      - Описание сущности технических компонентов
    |  |  |  |  |- services.yaml        - Описание сущности технических сервисов 
    |  |  |  |  |- environments.yaml    - Описание окружений и стендов
    |  |  |  |  |- plant.uml            - Диаграмма связей объектов (PlantUML)
    |  |  |  |  |- root.yaml            - Импорт и агрегация сущностей слоя
    |  |  |  |  |- menu/                - Описание структуры меню для навигации
    |  |  |  |  |- functions/           - Вспомогательные функции для работы с сущностями
    |  |  |  |  |- presentation/        - Описание представлений и шаблонов визуализации
    |  |  |  |  |  |- components.yaml   - Презентация компонентов
    |  |  |  |  |  |- services.yaml     - Презентация сервисов
    |  |  |  |  |  |- templates/        - Шаблоны markdown для визуализации (components.md, services.md и др.)
    |- architecture                     - Архитектурные объекты поставляемые с пакетом
    |  |- ta                            - Техническая архитектура

## Описание ключевых файлов и папок

- **components.yaml** — описание всех типов технических компонентов, их атрибутов и связей.
- **services.yaml** — описание всех типов технических сервисов, их атрибутов и связей.
- **environments.yaml** — описание сущностей окружения и стендов.
- **plant.uml** — диаграмма связей между сущностями слоя (PlantUML).
- **root.yaml** — агрегирует все основные сущности слоя для импорта.
- **menu/** — структура меню для навигации по архитектурным объектам.
- **functions/** — набор функций для обработки и получения информации о сущностях.
- **presentation/** — описание представлений (таблицы, карточки) для визуализации компонентов и сервисов, а также шаблоны markdown для вывода информации.

## Использование слоя технической архитектуры
Рекомендуемый порядок описания архитектуры инфраструктуры:
1. Регионы, зоны доступности, ЦОДы, офисы
2. Сетевое оборудование, аппаратные серверы и СХД
3. Кластеры виртуализации и виртуальные машины
4. Кластеры приложений и кластеры Kubernetes
5. Системы мониторинга и резервного копирования
6. Пользовательские устройства